# 3계층의 기능
- 다른 네트워크 대역(즉, 멀리 떨어진 곳에 존재하는 네트워크)까지 어떻게 데이터를 전달할지 제어하는 일을 담당
- 발신에서 착신까지의 패킷의 경로를 제어
- 서로 다른 LAN 대역 연결

<br><br>

## 3계층에서 쓰는 주소
- WAN에서 통신할 때 사용하는 **IP 주소**

### IPv4 주소
- 현재 PC에 할당된 주소

### 서브넷 마스크
- IP주소에 대한 네트워크의 대역을 규정하는 것

### 기본 게이트 웨이
- 외부와 통신할 때 사용하는 네트워크의 출입구

## 3계층 프로토콜의 종류
1. ARP 프로토콜
2. IPv4 프로토콜
3. ICMP 프로토콜

<br><br>

# 일반적인 IP주소
## Classful IP주소
- 4byte > 8bit * 4 > 00000000 ~ 11111111 * 4
- 2진수로 표현하기 때문에 10진수 기준 2**8 미만인 0~255까지의 숫자밖에 표현이 안됨
- 일반적인 Classful IP주소는 낭비가 심한 단점

### 클래스별 구분
- 0.0.0.0 <= A 클래스 (0XXXXXXX) < 128.0.0.0
- 128.0.0.0 <= B 클래스 (10XXXXXX) < 192.0.0.0
- 192.0.0.0 <= C 클래스 (110XXXXX) < 224.0.0.0
- 224.0.0.0 <= D 클래스 (1110XXXX) < 240.0.0.0
- 240.0.0.0 <= E 클래스 (1111XXXX) < 128.0.0.0

#### 특징
- 정해진 필드까지는 네트워크 대역을 구분하는데 사용, 나머지 X부분은 컴퓨터를 구분하는데 사용
- C 클래스가 일반적으로 가장 많이 사용
- D 클래스는 멀티캐스트 때 사용

### Classless IP 주소
- 낭비되지 않도록 없이 아껴쓰는 주소
- 서브넷 마스크를 통해 네트워크 대역을 나눈다

#### 서브넷 마스크 구조
- 255.255.255.192 > 11111111.111111111.111111111.11000000

<br><br>

## 사설 IP와 공인 ip
- 현재 사용중인 IP는 IPv4 + Classless IP
- 실제 인터넷 세상에서는 공인 IP로만 통신 
- 공인 IP 1개당 2^32개의 사설 IP

### 사설 IP
- 같은 네트워크 대역에서 통신

### 공인 IP
- 인터넷과 통신할 때는 공인 IP를 통해서 통신
- NAT (특정 IP를 변환해주는 기술)를 통해 사설 IP와 인터넷을 중개

<br><br>

## 특수한 IP 주소
### 0.0.0.0
- 나머지 모든 IP

### 127.0.0.1
- 나 자신을 나타내는 주소

### 게이트웨이
- 외부 네트워크로 이동 시(WAN) 가장 먼저 패킷이 도착하는 곳
- 게이트웨이에서 라우팅 테이블을 확인 후, 테이블의 경로로 패킷을 보낸다
- IP 주소와 같은 네트워크 대역에서 가장 낮거나, 높은 주소

<br><br>

### Q. 
- 주소변환 (NAT)은 한 개의 공인 IP를 가지고 여러 개의 컴퓨터가 공유할 경우에 그 공유하는 컴퓨터들의 IP를 공인 IP로 변환시켜 주는 기능을 한다. 따라서 사설 네트워크를 구성하면 외부 네트워크와 내부 네트워크를 단절시켜 보안상 안전한 구성을 설정할 수 있다. 주소변환 기능 설명으로 옳지 않은 것은?

1. 실제 목적지 IP를 숨김으로써 외부 비인가자의 접근을 제한한다.
2. 내부 네트워크단의 브로드 캐스트를 제한할 수 있는 방법이다.
3. IP 부족 현상을 해결할 수 있다.
4. 외부 비인가자의 의심스러운 트래픽을 제한할 수 있는 방법이다.